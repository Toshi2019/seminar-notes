%=====================================
%   2024-02-22.tex
%   院生セミナー資料 大柴寿浩
%=====================================

% -----------------------
% preamble
% -----------------------
% ここから本文 (\begin{document}) までの
% ソースコードに変更を加えた場合は
% 編集者まで連絡してください. 
% Don't change preamble code yourself. 
% If you add something
% (usepackage, newtheorem, newcommand, renewcommand),
% please tell it 
% to the editor of institutional paper of RUMS.

% ------------------------
% documentclass
% ------------------------
\documentclass[11pt, a4paper, leqno, dvipdfmx]{jsarticle}

% ------------------------
% usepackage
% ------------------------
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{amscd}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage[psamsfonts]{amssymb}
\usepackage{amsthm}
\usepackage{ascmac}
\usepackage{bm}
\usepackage{color}
\usepackage{enumerate}
\usepackage{fancybox}
\usepackage[stable]{footmisc}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{otf}
\usepackage{pifont}
\usepackage{proof}
\usepackage{subfigure}
\usepackage{tikz}
\usepackage{verbatim}
\usepackage[all]{xy}

\usetikzlibrary{cd}
\usetikzlibrary{arrows.meta}


% ================================
% パッケージを追加する場合のスペース 
\usepackage[dvipdfmx]{hyperref}
\usepackage{xcolor}
\definecolor{darkgreen}{rgb}{0,0.45,0} 
\definecolor{darkred}{rgb}{0.75,0,0}
\definecolor{darkblue}{rgb}{0,0,0.6} 
\hypersetup{
    colorlinks=true,
    citecolor=darkgreen,
    linkcolor=darkred,
    urlcolor=darkblue,
}
\usepackage{pxjahyper}

%=================================


% --------------------------
% theoremstyle
% --------------------------
\theoremstyle{definition}

% --------------------------
% newtheoem
% --------------------------

% 日本語で定理, 命題, 証明などを番号付きで用いるためのコマンドです. 
% If you want to use theorem environment in Japanece, 
% you can use these code. 
% Attention!
% All theorem enivironment numbers depend on 
% only section numbers.
\newtheorem{Axiom}{公理}[section]
\newtheorem{Definition}[Axiom]{定義}
\newtheorem{Theorem}[Axiom]{定理}
\newtheorem{Proposition}[Axiom]{命題}
\newtheorem{Lemma}[Axiom]{補題}
\newtheorem{Corollary}[Axiom]{系}
\newtheorem{Example}[Axiom]{例}
\newtheorem{Claim}[Axiom]{主張}
\newtheorem{Property}[Axiom]{性質}
\newtheorem{Attention}[Axiom]{注意}
\newtheorem{Question}[Axiom]{問}
\newtheorem{Problem}[Axiom]{問題}
\newtheorem{Consideration}[Axiom]{考察}
\newtheorem{Alert}[Axiom]{警告}
\newtheorem{Fact}[Axiom]{事実}


% 日本語で定理, 命題, 証明などを番号なしで用いるためのコマンドです. 
% If you want to use theorem environment with no number in Japanese, You can use these code.
\newtheorem*{Axiom*}{公理}
\newtheorem*{Definition*}{定義}
\newtheorem*{Theorem*}{定理}
\newtheorem*{Proposition*}{命題}
\newtheorem*{Lemma*}{補題}
\newtheorem*{Example*}{例}
\newtheorem*{Corollary*}{系}
\newtheorem*{Claim*}{主張}
\newtheorem*{Property*}{性質}
\newtheorem*{Attention*}{注意}
\newtheorem*{Question*}{問}
\newtheorem*{Problem*}{問題}
\newtheorem*{Consideration*}{考察}
\newtheorem*{Alert*}{警告}
\newtheorem{Fact*}{事実}


% 英語で定理, 命題, 証明などを番号付きで用いるためのコマンドです. 
%　If you want to use theorem environment in English, You can use these code.
%all theorem enivironment number depend on only section number.
\newtheorem{Axiom+}{Axiom}[section]
\newtheorem{Definition+}[Axiom+]{Definition}
\newtheorem{Theorem+}[Axiom+]{Theorem}
\newtheorem{Proposition+}[Axiom+]{Proposition}
\newtheorem{Lemma+}[Axiom+]{Lemma}
\newtheorem{Example+}[Axiom+]{Example}
\newtheorem{Corollary+}[Axiom+]{Corollary}
\newtheorem{Claim+}[Axiom+]{Claim}
\newtheorem{Property+}[Axiom+]{Property}
\newtheorem{Attention+}[Axiom+]{Attention}
\newtheorem{Question+}[Axiom+]{Question}
\newtheorem{Problem+}[Axiom+]{Problem}
\newtheorem{Consideration+}[Axiom+]{Consideration}
\newtheorem{Alert+}{Alert}
\newtheorem{Fact+}[Axiom+]{Fact}
\newtheorem{Remark+}[Axiom+]{Remark}

% ----------------------------
% commmand
% ----------------------------
% 執筆に便利なコマンド集です. 
% コマンドを追加する場合は下のスペースへ. 

% 集合の記号 (黒板文字)
\newcommand{\NN}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\KK}{\mathbb{K}}


% 集合の記号 (太文字)
\newcommand{\nn}{\mathbf{N}}
\newcommand{\zz}{\mathbf{Z}}
\newcommand{\qq}{\mathbf{Q}}
\newcommand{\rr}{\mathbf{R}}
\newcommand{\cc}{\mathbf{C}}
\newcommand{\pp}{\mathbf{P}}
\newcommand{\kk}{\mathbf{K}}

% 特殊な写像の記号
\newcommand{\ev}{\mathop{\mathrm{ev}}\nolimits} % 値写像
\newcommand{\pr}{\mathop{\mathrm{pr}}\nolimits} % 射影

% スクリプト体にするコマンド
%   例えば　{\mcal C} のように用いる
\newcommand{\mcal}{\mathcal}

% 花文字にするコマンド 
%   例えば　{\h C} のように用いる
\newcommand{\h}{\mathscr}

% ヒルベルト空間などの記号
\newcommand{\F}{\mcal{F}}
\newcommand{\X}{\mcal{X}}
\newcommand{\Y}{\mcal{Y}}
\newcommand{\Hil}{\mcal{H}}
\newcommand{\RKHS}{\Hil_{k}}
\newcommand{\Loss}{\mcal{L}_{D}}
\newcommand{\MLsp}{(\X, \Y, D, \Hil, \Loss)}

% 偏微分作用素の記号
\newcommand{\p}{\partial}

% 角カッコの記号 (内積は下にマクロがあります)
\newcommand{\lan}{\langle}
\newcommand{\ran}{\rangle}



% 圏の記号など
\newcommand{\Set}{{\bf Set}}
\newcommand{\Vect}{{\bf Vect}}
\newcommand{\FDVect}{{\bf FDVect}}
%\newcommand{\Ring}{{\bf Ring}}
\newcommand{\Ab}{{\bf Ab}}
\newcommand{\Mod}{\mathop{\mathrm{Mod}}\nolimits}
\newcommand{\Modf}{\mathop{\mathrm{Mod}^\mathrm{f}}\nolimits}
\newcommand{\CGA}{{\bf CGA}}
\newcommand{\GVect}{{\bf GVect}}
\newcommand{\Lie}{{\bf Lie}}
\newcommand{\dLie}{{\bf Liec}}



% 射の集合など
\newcommand{\Map}{\mathop{\mathrm{Map}}\nolimits} % 写像の集合
\newcommand{\Hom}{\mathop{\mathrm{Hom}}\nolimits} % 射集合
\newcommand{\End}{\mathop{\mathrm{End}}\nolimits} % 自己準同型の集合
\newcommand{\Aut}{\mathop{\mathrm{Aut}}\nolimits} % 自己同型の集合
\newcommand{\Mor}{\mathop{\mathrm{Mor}}\nolimits} % 射集合
\newcommand{\Ker}{\mathop{\mathrm{Ker}}\nolimits} % 核
\newcommand{\Img}{\mathop{\mathrm{Im}}\nolimits} % 像
\newcommand{\Cok}{\mathop{\mathrm{Coker}}\nolimits} % 余核
\newcommand{\Cim}{\mathop{\mathrm{Coim}}\nolimits} % 余像

% その他便利なコマンド
\newcommand{\dip}{\displaystyle} % 本文中で数式モード
\newcommand{\e}{\varepsilon} % イプシロン
\newcommand{\dl}{\delta} % デルタ
\newcommand{\pphi}{\varphi} % ファイ
\newcommand{\ti}{\tilde} % チルダ
\newcommand{\pal}{\parallel} % 平行
\newcommand{\op}{{\rm op}} % 双対を取る記号
\newcommand{\lcm}{\mathop{\mathrm{lcm}}\nolimits} % 最小公倍数の記号
\newcommand{\Probsp}{(\Omega, \F, \P)} 
\newcommand{\argmax}{\mathop{\rm arg~max}\limits}
\newcommand{\argmin}{\mathop{\rm arg~min}\limits}





% ================================
% コマンドを追加する場合のスペース 
%\newcommand{\OO}{\mcal{O}}



\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
%        \itshape
         \bfseries
%    #1\@addpunct{.}]\ignorespaces
    {#1}]\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother

\renewcommand{\proofname}{証明.}



%\renewcommand\proofname{\bf 証明} % 証明
\numberwithin{equation}{section}
\newcommand{\cTop}{\textsf{Top}}
%\newcommand{\cOpen}{\textsf{Open}}
\newcommand{\Op}{\mathop{\textsf{Op}}\nolimits}
\newcommand{\Ob}{\mathop{\textrm{Ob}}\nolimits}
\newcommand{\id}{\mathop{\mathrm{id}}\nolimits}
\newcommand{\pt}{\mathop{\mathrm{pt}}\nolimits}
\newcommand{\res}{\mathop{\rho}\nolimits}
\newcommand{\A}{\mcal{A}}
\newcommand{\B}{\mcal{B}}
\newcommand{\C}{\mcal{C}}
\newcommand{\D}{\mcal{D}}
\newcommand{\E}{\mcal{E}}
\newcommand{\G}{\mcal{G}}
%\newcommand{\H}{\mcal{H}}
\newcommand{\I}{\mcal{I}}
\newcommand{\J}{\mcal{J}}
\newcommand{\OO}{\mcal{O}}
\newcommand{\Ring}{\mathop{\textsf{Ring}}\nolimits}
\newcommand{\cAb}{\mathop{\textsf{Ab}}\nolimits}
%\newcommand{\Ker}{\mathop{\mathrm{Ker}}\nolimits}
\newcommand{\im}{\mathop{\mathrm{Im}}\nolimits}
\newcommand{\Coker}{\mathop{\mathrm{Coker}}\nolimits}
\newcommand{\Coim}{\mathop{\mathrm{Coim}}\nolimits}
\newcommand{\rank}{\mathop{\mathrm{rank}}\nolimits}
\newcommand{\Ht}{\mathop{\mathrm{Ht}}\nolimits}
\newcommand{\supp}{\mathop{\mathrm{supp}}\nolimits}
\newcommand{\colim}{\mathop{\mathrm{colim}}}
\newcommand{\Tor}{\mathop{\mathrm{Tor}}\nolimits}

\newcommand{\cat}{\mathscr{C}}

\newcommand{\scA}{\mathscr{A}}
\newcommand{\scB}{\mathscr{B}}
\newcommand{\scC}{\mathscr{C}}
\newcommand{\scD}{\mathscr{D}}
\newcommand{\scE}{\mathscr{E}}
\newcommand{\scF}{\mathscr{F}}
\newcommand{\scN}{\mathscr{N}}
\newcommand{\scO}{\mathscr{O}}
\newcommand{\scR}{\mathscr{R}}
\newcommand{\scS}{\mathscr{S}}
\newcommand{\scV}{\mathscr{V}}


\newcommand{\ibA}{\mathop{\text{\textit{\textbf{A}}}}}
\newcommand{\ibB}{\mathop{\text{\textit{\textbf{B}}}}}
\newcommand{\ibC}{\mathop{\text{\textit{\textbf{C}}}}}
\newcommand{\ibD}{\mathop{\text{\textit{\textbf{D}}}}}
\newcommand{\ibE}{\mathop{\text{\textit{\textbf{E}}}}}
\newcommand{\ibF}{\mathop{\text{\textit{\textbf{F}}}}}
\newcommand{\ibG}{\mathop{\text{\textit{\textbf{G}}}}}
\newcommand{\ibH}{\mathop{\text{\textit{\textbf{H}}}}}
\newcommand{\ibI}{\mathop{\text{\textit{\textbf{I}}}}}
\newcommand{\ibJ}{\mathop{\text{\textit{\textbf{J}}}}}
\newcommand{\ibK}{\mathop{\text{\textit{\textbf{K}}}}}
\newcommand{\ibL}{\mathop{\text{\textit{\textbf{L}}}}}
\newcommand{\ibM}{\mathop{\text{\textit{\textbf{M}}}}}
\newcommand{\ibN}{\mathop{\text{\textit{\textbf{N}}}}}
\newcommand{\ibO}{\mathop{\text{\textit{\textbf{O}}}}}
\newcommand{\ibP}{\mathop{\text{\textit{\textbf{P}}}}}
\newcommand{\ibQ}{\mathop{\text{\textit{\textbf{Q}}}}}
\newcommand{\ibR}{\mathop{\text{\textit{\textbf{R}}}}}
\newcommand{\ibS}{\mathop{\text{\textit{\textbf{S}}}}}
\newcommand{\ibT}{\mathop{\text{\textit{\textbf{T}}}}}
\newcommand{\ibU}{\mathop{\text{\textit{\textbf{U}}}}}
\newcommand{\ibV}{\mathop{\text{\textit{\textbf{V}}}}}
\newcommand{\ibW}{\mathop{\text{\textit{\textbf{W}}}}}
\newcommand{\ibX}{\mathop{\text{\textit{\textbf{X}}}}}
\newcommand{\ibY}{\mathop{\text{\textit{\textbf{Y}}}}}
\newcommand{\ibZ}{\mathop{\text{\textit{\textbf{Z}}}}}

\newcommand{\ibx}{\mathop{\text{\textit{\textbf{x}}}}}

%\newcommand{\Comp}{\mathop{\mathrm{C}}\nolimits}
%\newcommand{\Komp}{\mathop{\mathrm{K}}\nolimits}
%\newcommand{\Domp}{\mathop{\mathsf{D}}\nolimits}%複体のホモトピー圏
%\newcommand{\Comp}{\mathrm{C}}
%\newcommand{\Komp}{\mathrm{K}}
%\newcommand{\Domp}{\mathsf{D}}%複体のホモトピー圏

\newcommand{\Comp}{\mathop{\mathrm{C}}\nolimits}
\newcommand{\Komp}{\mathop{\mathsf{K}}\nolimits}
\newcommand{\Domp}{\mathop{\mathsf{D}}\nolimits}
\newcommand{\Kompl}{\mathop{\mathsf{K}^\mathrm{+}}\nolimits}
\newcommand{\Kompu}{\mathop{\mathsf{K}^\mathrm{-}}\nolimits}
\newcommand{\Kompb}{\mathop{\mathsf{K}^\mathrm{b}}\nolimits}
\newcommand{\Dompl}{\mathop{\mathsf{D}^\mathrm{+}}\nolimits}
\newcommand{\Dompu}{\mathop{\mathsf{D}^\mathrm{-}}\nolimits}
\newcommand{\Dompb}{\mathop{\mathsf{D}^\mathrm{b}}\nolimits}
\newcommand{\Dompbf}{\mathop{\mathsf{D}_\mathrm{f}^\mathrm{b}}\nolimits}

\newcommand{\Dlcon}{\mathop{\mathsf{D}^{+}_{\rr_{>0}}}\nolimits}
%\newcommand{\Dlcon}{\mathop{\mathsf{D}^{+}_{\rr^+}}\nolimits}
\newcommand{\Dbcon}{\mathop{\mathsf{D}^{\mathrm{b}}_{\rr^+}}\nolimits}



\newcommand{\CCat}{\Comp(\cat)}
\newcommand{\KCat}{\Komp(\cat)}
\newcommand{\DCat}{\Domp(\cat)}%圏Cの複体のホモトピー圏
\newcommand{\HOM}{\mathop{\mathscr{H}\hspace{-2pt}om}\nolimits}%内部Hom
\newcommand{\RHOM}{\mathop{\mathrm{R}\hspace{-1.5pt}\HOM}\nolimits}

\newcommand{\muS}{\mathop{\mathrm{SS}}\nolimits}
\newcommand{\RG}{\mathop{\mathrm{R}\hspace{-0pt}\Gamma}\nolimits}
\newcommand{\RHom}{\mathop{\mathrm{R}\hspace{-1.5pt}\Hom}\nolimits}
\newcommand{\Rder}{\mathrm{R}}

\newcommand{\simar}{\mathrel{\overset{\sim}{\rightarrow}}}%同型右矢印
\newcommand{\simarr}{\mathrel{\overset{\sim}{\longrightarrow}}}%同型右矢印
\newcommand{\simra}{\mathrel{\overset{\sim}{\leftarrow}}}%同型左矢印
\newcommand{\simrra}{\mathrel{\overset{\sim}{\longleftarrow}}}%同型左矢印

\newcommand{\hocolim}{{\mathrm{hocolim}}}
\newcommand{\indlim}[1][]{\mathop{\varinjlim}\limits_{#1}}
\newcommand{\sindlim}[1][]{\smash{\mathop{\varinjlim}\limits_{#1}}\,}
\newcommand{\Pro}{\mathrm{Pro}}
\newcommand{\Ind}{\mathrm{Ind}}
\newcommand{\prolim}[1][]{\mathop{\varprojlim}\limits_{#1}}
\newcommand{\sprolim}[1][]{\smash{\mathop{\varprojlim}\limits_{#1}}\,}

\newcommand{\Sh}{\mathrm{Sh}}
\newcommand{\PSh}{\mathrm{PSh}}

\newcommand{\rmD}{\mathrm{D}}

\newcommand{\Lloc}[1][]{\mathord{\mathcal{L}^1_{\mathrm{loc},{#1}}}}
\newcommand{\ori}{\mathord{\mathrm{or}}}
\newcommand{\Db}{\mathord{\mathscr{D}b}}

\newcommand{\codim}{\mathop{\mathrm{codim}}\nolimits}



\newcommand{\gld}{\mathop{\mathrm{gld}}\nolimits}
\newcommand{\wgld}{\mathop{\mathrm{wgld}}\nolimits}


\newcommand{\tens}[1][]{\mathbin{\otimes_{\raise1.5ex\hbox to-.1em{}{#1}}}}
\newcommand{\ttens}[1][]{\mathbin{\mathop{\overset{\mathrm{}}{\tens}}_{#1}}}

\newcommand{\etens}{\mathbin{\boxtimes}}
\newcommand{\ltens}[1][]{\mathbin{\overset{\mathrm{L}}\tens}_{#1}}
\newcommand{\mtens}[1][]{\mathbin{\overset{\mathrm{\mu}}\tens}_{#1}}
\newcommand{\lltens}[1][]{{\mathop{\tens}\limits^{\mathrm{L}}_{#1}}}
%\newcommand{\letens}{\overset{\mathrm{L}}{\etens}}
\newcommand{\detens}{\underline{\etens}}
\newcommand{\ldetens}{\overset{\mathrm{L}}{\underline{\etens}}}
\newcommand{\dtens}[1][]{{\overset{\mathrm{L}}{\underline{\otimes}}}_{#1}}

%\newcommand{\blk}{\mathord{\ \cdot\ }}

\newcommand{\letens}[1][]{\mathbin{\mathop{\overset{\mathrm{L}}{\etens}}_{#1}}}



%\newcommand{\hocolim}{{\mathrm{hocolim}}}
%\newcommand{\indlim}[1][]{\mathop{\varinjlim}\limits_{#1}}
%\newcommand{\sindlim}[1][]{\smash{\mathop{\varinjlim}\limits_{#1}}\,}
%\newcommand{\Pro}{\mathrm{Pro}}
%\newcommand{\Ind}{\mathrm{Ind}}
%\newcommand{\prolim}[1][]{\mathop{\varprojlim}\limits_{#1}}
%\newcommand{\sprolim}[1][]{\smash{\mathop{\varprojlim}\limits_{#1}}\,}
\newcommand{\proolim}[1][]{\mathop{\text{\rm``{$\varprojlim$}''}}\limits_{#1}}
\newcommand{\sproolim}[1][]{\smash{\mathop{\rm``{\varprojlim}''}\limits_{#1}}}
\newcommand{\inddlim}[1][]{\mathop{\text{\rm``{$\varinjlim$}''}}\limits_{#1}}
\newcommand{\sinddlim}[1][]{\smash{\mathop{\text{\rm``{$\varinjlim$}''}}\limits_{#1}}\,}
\newcommand{\ooplus}{\mathop{\text{\rm``{$\oplus$}''}}\limits}
\newcommand{\bbigsqcup}{\mathop{``\bigsqcup''}\limits}
\newcommand{\bsqcup}{\mathop{``\sqcup''}\limits}
\newcommand{\dsum}[1][]{\mathbin{\oplus_{#1}}}

\newcommand{\Fct}{\mathop{\mathsf{Fct}}\nolimits}

\newcommand{\pb}[1][]{\mathbin{\mathop{\times}\limits_{#1}}}

\newcommand{\Int}[1][]{\mathop{\mathrm{Int}}\nolimits_{#1}}
\newcommand{\Cl}[1][]{\mathop{\mathrm{Cl}}\nolimits_{#1}}
\newcommand{\Bd}[1][]{\mathop{\mathrm{Bd}}\nolimits_{#1}}
\newcommand{\Fr}[1][]{\mathop{\mathrm{Fr}}\nolimits_{#1}}

\newcommand{\mres}[2][]{{\left.{#1}\right\rvert}_{#2}}

%\newcommand{\qis}{\mathrel{\overunderset{\sim}{\text{qis}}{\rightarrow}}}%同型右矢印
%\newcommand{\qisr}{\mathrel{\overunderset{\sim}{\text{qis}}{\rightarrow}}}%同型右矢印
%\newcommand{\qisrr}{\mathrel{\overunderset{\sim}{\text{qis}}{\longrightarrow}}}%同型右矢印
%\newcommand{\qisl}{\mathrel{\overunderset{\sim}{\text{qis}}{\leftarrow}}}%同型左矢印
%\newcommand{\qisll}{\mathrel{\overunderset{\sim}{\text{qis}}{\longleftarrow}}}%同型左矢印

\newcommand{\qis}{\stackrel{\text{qis}}{\sim}}%同型右矢印

%\newcommand{\mres}[2][]{{\left.{#1}\right\rvert}_{#2}}
\newcommand{\blk}{\mathord{\ \cdot\ }}


%================================================
% 自前の定理環境
%   https://mathlandscape.com/latex-amsthm/
% を参考にした
\newtheoremstyle{mystyle}%   % スタイル名
    {5pt}%                   % 上部スペース
    {5pt}%                   % 下部スペース
    {}%              % 本文フォント
    {}%                  % 1行目のインデント量
    {\bfseries}%                      % 見出しフォント
    {.}%                     % 見出し後の句読点
    {12pt}%                     % 見出し後のスペース
    {\thmname{#1}\thmnumber{ #2}\thmnote{{\hspace{2pt}\normalfont (#3)}}}% % 見出しの書式

\theoremstyle{mystyle}
\newtheorem{AXM}{公理}[section]
\newtheorem{DFN}[AXM]{定義}
\newtheorem{THM}[AXM]{定理}
\newtheorem*{THM*}{定理}
\newtheorem{PRP}[AXM]{命題}
\newtheorem{LMM}[AXM]{補題}
\newtheorem{CRL}[AXM]{系}
\newtheorem{EG}[AXM]{例}
\newtheorem*{EG*}{例}
\newtheorem{RMK}[AXM]{注意}
\newtheorem{CNV}[AXM]{約束}
\newtheorem{CMT}[AXM]{コメント}
\newtheorem*{CMT*}{コメント}
\newtheorem{NTN}[AXM]{記号}

% 定理環境ここまで
%====================================================

\usepackage{framed}
\definecolor{lightgray}{rgb}{0.75,0.75,0.75}
\renewenvironment{leftbar}{%
  \def\FrameCommand{\textcolor{lightgray}{\vrule width 4pt} \hspace{10pt}}% 
  \MakeFramed {\advance\hsize-\width \FrameRestore}}%
{\endMakeFramed}
\newenvironment{redleftbar}{%
  \def\FrameCommand{\textcolor{lightgray}{\vrule width 1pt} \hspace{10pt}}% 
  \MakeFramed {\advance\hsize-\width \FrameRestore}}%
 {\endMakeFramed}


% =================================





% ---------------------------
% new definition macro
% ---------------------------
% 便利なマクロ集です

% 内積のマクロ
%   例えば \inner<\pphi | \psi> のように用いる
\def\inner<#1>{\langle #1 \rangle}

% ================================
% マクロを追加する場合のスペース 

%=================================





% ----------------------------
% documenet 
% ----------------------------
% 以下, 本文の執筆スペースです. 
% Your main code must be written between 
% begin document and end document.
% ---------------------------

\title{2024/05/27 セミナー資料}
\author{大柴寿浩}
\date{}
\begin{document}
\maketitle

\section*{記号}
\begin{itemize}
    \item 恒等射を\(\id\)や\(1\)で表す．
    \item 集合\(U\)の開近傍系を\(I_U\)とかき，点\(x\)の開近傍系を\(I_x\)とかく．
    \item \(\rr^+\)：正の実数のなす乗法群．
\end{itemize}

\section{局所台切断}

もうひとつ，\(X\)の局所閉部分集合\(Z\)に対して関手的に定まる層がある．
\(U\)を\(X\)の開集合とし，\(Z\)を\(U\)の閉集合とする．
\begin{equation}
    \Gamma_Z(U;F)\coloneqq
    \Ker\left(F(U)\to F(U-Z)\right)
\end{equation}
とおく．
すなわち，\(\Gamma_Z(U;F)\)は
切断の台が\(Z\)に含まれるものからなる\(\Gamma(U;F)\)の部分群である．

\(V\)を\(U\)の開集合で\(Z\)を閉集合として含むものとする．
制限射\(
    \rho_{V,U}\colon\Gamma(U;F)\to\Gamma(V;F)
\)から自然な射\[
    \widetilde{\rho}_{V,U}\colon
    \Gamma_Z(U;F)\to\Gamma_Z(V;F)
\]が誘導される．実際
\(s\in\Gamma_Z(U;F)\)が\(\mres[s]{U-Z}=0\)をみたすとき
\[
    \rho_{V-Z,V}\circ\rho_{V,U}(s)
    =\rho_{V-Z,U}(s)
    =\rho_{V-Z,U-Z}\circ\rho_{U-Z,U}(s)
    =0
\]となる．したがって\(
    \mres[\rho_{V,U}]{\Ker\rho_{V,U}}
\)の像は\(\rho_{V-Z,V}\)の核に含まれる．
こうして定まる射\(\Gamma_Z(U;F)\to\Gamma_Z(V;F)\)は同型である．
実際，\(\widetilde{\rho}_{V,U}\)が全単射であることが
次のように示される．
\subparagraph*{単射性}
\(s\in\Gamma_Z(U;F)\)が\(
    \widetilde{\rho}_{V,U}(s)=0
\)となると仮定する．
これは\(\mres[s]{V}=0\)かつ\(\mres[s]{U-Z}=0\)ということである．
\(U-Z\)と\(V\)は\(U\)を被覆するので，\(F\)が層であることから，
\(s\)は\(U\)上の切断として\(0\)である．
よってとくに\(\Gamma_Z(U;F)\)の元としても\(0\)である．
すなわち，\(\widetilde{\rho}_{V,U}\)は単射である．
\subparagraph*{全射性}
\(t\in\Gamma_Z(V;F)\)とする．
定義より\(\mres[t]{V-Z}=0\)である．
\(0\)を\(U-Z\)上の切断とみなせば，
\(U-Z\)と\(V\)は\(V-Z=(U-Z)\cap V\)をみたす\(U\)の被覆なので，
\(F\)が層であることから，
\(U\)上の切断\(s\)で\(\mres[s]{U-Z}=0\)となるものが定まる．
したがって\(\widetilde{\rho}_{V,U}\)は全射である．

\(Z\)を閉集合として含む\(X\)の任意の開集合\(U\), \(V\)に関して\(
    \Gamma_Z(U;F)\to\Gamma_Z(V;F)
\)が同型であることが示されたので，
\(X\)の局所閉集合\(Z\)に対し，\(Z\)を
閉集合として含む\(X\)の任意の開集合\(U\)を用いることで，\(
    \Gamma_Z(X;F)
\)を\(\Gamma_Z(U;F)\)として定めることができる．
前層\(U\mapsto\Gamma_{Z\cap U}(U;F)\)は層となる．

\begin{proof}
    切断の様子：まず\(\Gamma_{Z\cap U}(U;F)\)の意味について確認する．
    \(U\)を全体集合としてみたとき，
    \(Z\cap U\)を局所閉集合として含む．
    実際，\(X\)の開集合\(V\)と閉集合\(A\)を用いて，
    \(Z=V\cap A\)とかくとき，\(Z\cap U\)は\(
        (V\cap U)\cap (A\cap U)
    \)とかける．
    \(U\)の相対位相について\(V\cap U\)は開で\(A\cap U\)は閉なので，
    \(Z\cap U\)は局所閉である．
    この\(U\)と\(Z\cap U\subset U\)の組に対して
    上の\(\Gamma_Z(X;F)\)を考えたものが\(
        \Gamma_{Z\cap U}(U;F)
    \)である．

    前層になること：
    次に\(U\mapsto\Gamma_{Z\cap U}(U;F)\)が前層となることを示す．
    \(V\subset U\)を\(X\)の開集合とする．
    \(Z\cap U\)を閉集合として含む\(U\)の開集合\(U'\)と
    \(Z\cap V\)を閉集合として含む\(V\)の開集合\(V'\)を選び\[
        \Gamma_{Z\cap U}(U;F)=
        \Gamma_{Z\cap U}(U';F),\quad
        \Gamma_{Z\cap V}(U;F)=
        \Gamma_{Z\cap V}(V';F)
    \]とする．
    このとき\(V'\subset U'\)としてよい．
    実際\(Z\cap V\subset V'\)と\(Z\cap U \subset U'\)に対して，
    \(V''= V'\cap U'\)とすれば，\(V''\)は\[
        Z\cap V=Z\cap (V\cap U)
        =(Z\cap V)\cap (Z\cap U)
        \subset V'\cap U'
        =V''\subset U'
    \]をみたす．
    この設定のもとで制限射\[
        \rho_{V,U}=\rho_{V',U'}\colon
        \Gamma_{Z\cap U}(U;F)
        =\Gamma_{Z\cap U}(U';F)
        \to\Gamma_{Z\cap V}(V;F)
        =\Gamma_{Z\cap V}(V';F)
    \]が\(F\)の制限射\(\rho'_{V',U'}\colon F(U')\to F(V')\)から
    誘導される．
    実際，\(s\in\Gamma_{Z\cap U}(U';F)\)に対し，
    \(\rho'_{V',U'}(s)\)は
    \begin{align*}
        \mres[\rho'_{V',U'}(s)]{V'-Z\cap V}
        &=\rho'_{V'-Z\cap V,V'}\circ \rho'_{V',U'}(s)\\
        &=\rho'_{V'-Z\cap V,U'}(s)\\
        &=\rho'_{V'-Z\cap V,U'-Z\cap U}\circ \rho'_{U'-Z\cap U,U'}(s)=0
    \end{align*}
    となる． \(\rho_{V',U'}\)が関手性をみたすことを示せばよい．
    \[
        \rho_{U',U'}
        =\mres[\rho'_{U',U'}]{\Gamma_{Z\cap U}(U';F)}
        =\mres[\id_{F(U')}]{\Gamma_{Z\cap U}(U';F)}
        =\id_{\Gamma_{Z\cap U}(U';F)}
    \]である．
    また，\(W\subset V\subset U\)を\(X\)の開集合とし，
    \(W\)の開集合\(W'\)を\(Z\cap W\)を閉集合として含み，
    \(W'\subset V'\subset U'\)となるように選ぶ．
    このとき
    \begin{align*}
        \rho_{W',V'}\circ\rho_{V',U'}
        &=\mres[{\left(
            \rho'_{W',V'}\circ\rho'_{V',U'}
        \right)}]{\Gamma_{Z\cap U}(U';F)}\\
        &=\mres[\rho'_{W',V'}]{\Gamma_{Z\cap V}(V';F)}
        \circ\mres[\rho'_{V',U'}]{\Gamma_{Z\cap U}(U';F)}\\
        &=\mres[\rho'_{W',U'}]{\Gamma_{Z\cap U}(U';F)}\\
        &=\rho_{V',U'}
    \end{align*}
    が成り立つ．
    よって\(U\mapsto\Gamma_{Z\cap U}(U;F)\)は前層となる．

    層になること：
    前層\(U\mapsto\Gamma_{Z\cap U}(U;F)\)が層となることを示す．
    \(U\)を\(X\)の開集合とし，
    \(\left(U_i\right)_{i\in I}\)を\(U\)の開被覆とする．
    \(U'\)を\(U\)の開集合で\(Z\cap U\)を閉集合として含むものとする．
    このとき\(U'_i=U'\cap U_i\)とおくと，\(
        \left(U'_i\right)_{i\in I}
    \)は\(U'\)の開被覆で，
    各\(i\)に対し\(U'_i\)は\(Z\cap U_i\)を閉集合として含む．
    実際，\(
        Z\cap U_i=Z\cap (U_i\cap U)=(Z\cap U)\cap U_i
    \)なので，\(U_i\subset U\)の相対位相について\(Z\cap U\)は閉である．
    したがって，この\(U'\)と\(\left(U'_i\right)_{i\in I}\)に対して
    貼り合わせの条件が成り立つことを示せばよい．

    \[
        \Gamma_{Z\cap U}(U';F)
        \to \prod_{i\in I}\Gamma_{Z\cap U_i}(U'_i;F)
    \]が単射であることを示す．
    \(s\in\Gamma_{Z\cap U}(U';F)\)が\(\rho'_{U'_i,U'}\)であるとすると，
    \(F\)の貼り合わせの条件から\(U'\)上の切断として\(s=0\)である．

    \[
        \Gamma_{Z\cap U}(U';F)
        \to \prod_{i\in I}\Gamma_{Z\cap U_i}(U'_i;F)
        \to \prod_{i,j\in I}
        \Gamma_{Z\cap U_i\cap U_j}(U'_i\cap U'_j;F)
    \]が完全であることを示す．
    ところで，\(U'_i\cap U'_j\)は\(Z\cap U_i\cap U_j\)を
    閉集合として含む．実際
    \(
        Z\cap(U_i\cap U_j)
        =(Z\cap U_i)\cap (Z\cap U_j)
        \subset U'_i, U'_j
    \)なので，とくに\(
        Z\cap(U_i\cap U_j)
        =(Z\cap U_i)\cap (Z\cap U_j)\cap (U'_i\cap U'_j)
    \)である．\(U'_i\cap U'_j\subset U'_i\)の
    相対位相に関して\(Z\cap(U_i\cap U_j)\)は閉である．
    さて，\(\left(s_i\right)_{i\in I}\)を\(U'_i\)上の切断で\(
        \mres[s_i]{U'_i-Z\cap U_i}=0
    \)となるものの族とし，各\(i,j\in I\)に対して\[
        \mres[s_i]{U'_i\cap U'_j}=
        \mres[s_j]{U'_i\cap U'_j}
    \]が成り立つとする．
    このとき，\(F\)の貼り合わせの条件から，
    \(U'\)上の切断\(s\)で各\(i\in I\)に対し\(\mres[s]{U'_i}=s_i\)と
    なるものが存在する．\(\mres[s]{U'-Z\cap U}=0\)となることを示す．
    \begin{align*}
        U'-Z\cap U
        &=U'\cap U- Z\cap U\\
        &=(U'- Z)\cap U\\
        &=(U'- Z)\cap \bigcup_{i\in I}U_i\\
        &=\bigcup_{i\in I} (U'- Z)\cap U_i\\
        &=\bigcup_{i\in I} (U'\cap U_i- Z\cap U_i)\\
        &=\bigcup_{i\in I} (U'_i- Z\cap U_i)
    \end{align*}
    なので\(\left(U'_i-Z\cap U_i\right)_{i\in I}\)は\(U'-Z\cap U\)を被覆する．
    各\(U'_i-Z\cap U_i\)上で\(
        \mres[s]{U'_i-Z\cap U_i}=\mres[s_i]{U'_i-Z\cap U_i}=0
    \)なので\(\mres[s]{U'-Z\cap U}=0\)である．
\end{proof}
\begin{DFN}
    層\(U\mapsto\Gamma_{Z\cap U}(U;F)\)を
    \textbf{\(Z\)に台をもつ\(F\)の切断の層}とよび
    \(\Gamma_Z(F)\)で表す\footnote{
        本多ノートだと local support functor と呼んでいるので
        \(Z\)が明らかなときは局所台切断の層とも呼ぶのもアリか？．
    }．
\end{DFN}

\begin{leftbar}\begin{PRP}\label{PRP239}
    \(Z\)を\(X\)の局所閉部分集合とし，\(F\)を\(X\)上の層とする．
    \begin{enumerate}[(i)]
        \item \(\Sh(X)\)から\(\cAb\)への関手\(
            \Gamma_Z(X;\blk)\colon F\mapsto \Gamma_Z(X;F)
        \)と\(\Sh(X)\)から\(\Sh(X)\)への関手\(
            \Gamma_Z\colon F\mapsto \Gamma_Z(F)
        \)は左完全である．さらに次が成り立つ．\[
            \Gamma_Z(X;\blk)=\Gamma(X;\blk)\circ\Gamma_Z.
        \]
        \item \(Z'\)を\(Z\)とは別の\(X\)の局所閉部分集合とする．
        このとき次が成り立つ．\[
            \Gamma_{Z'}\circ \Gamma_{Z}
            =\Gamma_{Z\cap Z'}.
        \]
        \item \(Z\)が\(X\)の開集合であるとし，
        \(i\colon Z\hookrightarrow X\)を\(Z\)の\(X\)への
        包含写像とする．このとき次が成り立つ．\[
            \Gamma_Z=i_{\ast}i^{-1}F
        \]
        \item \(Z'\)を\(Z\)の閉部分集合とする．
        このとき，次の列は完全である．\[
            0\to \Gamma_{Z'}(F)\to \Gamma_{Z}(F)\to \Gamma_{Z-Z'}(F).
        \]
        \item \(U_1\)と\(U_2\)を\(X\)の開部分集合とする．
        このとき列\[
            0\to \Gamma_{U_1\cup U_2}(F)\underset{\alpha}{\to}
            \Gamma_{U_1}(F)\oplus \Gamma_{U_2}(F)\underset{\beta}{\to}
            \Gamma_{U_1\cap U_2}(F)
        \]は完全である．
        ただし\(\alpha=\left(\alpha_1,\alpha_2\right)\)と\(
            \beta=\left(\beta_1,-\beta_2\right)
        \)はそれぞれ自然な射\(
            \Gamma_{U_1\cup U_2}(F)\to \Gamma_{U_i}(F)
        \)と\(
            \Gamma_{U_i}(F)\to \Gamma_{U_1\cap U_2}(F)
        \)（\(i=1,2\)）から引きおこされるものである．
        \item \(Z_1\)と\(Z_2\)を\(X\)の閉部分集合とする．
        このとき列\[
            0\to \Gamma_{Z_1\cap Z_2}(F)\underset{\gamma}{\to}
            \Gamma_{Z_1}(F)\oplus \Gamma_{Z_2}(F)\underset{\delta}{\to}
            \Gamma_{Z_1\cup Z_2}(F)
        \]は完全である．
        ただし\(\gamma=\left(\gamma_1,\gamma_2\right)\)と\(
            \delta=\left(\delta_1,-\delta_2\right)
        \)はそれぞれ自然な射\(
            \Gamma_{Z_1\cap Z_2}(F)\to \Gamma_{Z_i}(F)
        \)と\(
            \Gamma_{Z_i}(F)\to \Gamma_{Z_1\cup Z_2}(F)
        \)（\(i=1,2\)）から引きおこされるものである．
    \end{enumerate}
\end{PRP}\end{leftbar}

\subsection*{各操作の関係}

ここまでに定義してきた圏\(\Sh(X)\)上の関手\(\HOM(\blk,\blk)\), 
\(\blk\tens\blk\), \(f_\ast\), \(f^{-1}\), \((\blk)_Z\), 
\(\Gamma_Z\), \(\Gamma(X;\blk)\)の関係を調べる．

\begin{leftbar}\begin{PRP}
    \(\scR\)を\(X\)上の環の層とし，\(F\in\Mod(\scR)\)とする．
    \(Z\)を\(X\)の局所閉部分集合とするとき，次の自然な同型が存在する．
    \begin{align}
        \scR_{Z}\ttens[\scR]F&\cong F_Z,\label{eq2315}\\
        \HOM_{\scR}\left(\scR_Z,F\right)&\cong\Gamma_Z(F).\label{eq2316}
    \end{align}
\end{PRP}\end{leftbar}
\begin{proof}
    \eqref{eq2315}：左辺が\eqref{eq2313}をみたすことを示す．
    \begin{align*}
        \mres[{\left(\scR_{Z}\ttens[\scR]F\right)}]{Z}
        &\cong
        \left(\mres[\scR_{Z}]{Z}\right)\ttens[{\mres[\scR]{Z}}]\left(\mres[F]{Z}\right)\\
        &\cong
        \left(\mres[\scR]{Z}\right)\ttens[{\mres[\scR]{Z}}]\left(\mres[F]{Z}\right)\\
        &\cong
        \mres[{\left(\scR\ttens[\scR]F\right)}]{Z}
        \cong
        \mres[F]{Z}
    \end{align*}
    である．また，\[
        \mres[{\left(\scR_{Z}\ttens[\scR]F\right)}]{X-Z}
        \cong
        \left(\mres[\scR_{Z}]{X-Z}\right)\ttens[{\mres[\scR]{X-Z}}]\left(\mres[F]{X-Z}\right)
        \cong
        0\ttens[{\mres[\scR]{X-Z}}]\left(\mres[F]{X-Z}\right)
        \cong
        0
    \]
    であるから，左辺は\eqref{eq2313}をみたす．
    よって命題\ref{PRP236} (i) より\eqref{eq2315}がしたがう．

    \eqref{eq2316}：まず\(Z\)が開集合の場合と閉集合の場合に示す．
    その後開集合と閉集合の共通部分として表したときに示す．

    \eqref{eq2316}：まず\(Z\)が開集合の場合と閉集合の場合に示す．
    その後開集合と閉集合の共通部分として表したときに示す．

    \subparagraph*{\(Z\)が開集合のとき}
    \(X\)の任意の開集合\(U\)と\(U\)上の\(\scR_Z\)の切断\(
        s\in \Gamma(U;\scR_Z)
    \)に対し，
    \(s\)の台\(\supp{s}\)は\(U\cap Z\)の閉集合である．
    実際，\(\mres[\scR]{X-Z}=0\)より，
    \(x\in X-Z\)に対し\((\scR_Z)_x=0\)である．
    よってとくに\(x\in U-U\cap Z\)に対して\((\scR_Z)_x=0\)となる．
    したがって，任意の\(s\in\Gamma(U;\scR_Z)\)に対し，
    \(x\in U-U\cap Z\)ならば\(s_x=0\in(\scR_Z)_x=0\)となる．
    すなわち\(\supp{s}\subset U\cap Z\)である．
    台の定義から\(\supp{s}\)は\(U\)の閉集合なので，
    \(U\cap Z\)の相対位相に関しても閉集合である．
    この注意のもとで，\(\Hom_{\scR}(\scR_Z,F)\)の制限射として
    定まる自然な射\[
        \Hom_{\scR}(\scR_Z,F)
        \to
        \Hom_{\mres[\scR]{Z}}(\mres[\scR_Z]{Z},\mres[F]{Z})
    \]が同型であることがわかる．
    
    まず単射であること示す．
    \(\scR\)加群の層の射\(\varphi\colon\scR_Z\to F\)に対し，
    \(  
        \mres[\varphi]{Z}\colon\mres[\scR_Z]{Z}\to\mres[F]{Z}
    \)が零射であるとする．このとき，\(\varphi=0\)であることを示す．
    \(U\)を\(X\)の開集合とし，\(s\in\Gamma(U;\scR_Z)\)とする．
    \begin{align*}
        \mres[\varphi_U(s)]{U\cap Z}
        &=\varphi_{U\cap Z}(\mres[s]{U\cap Z})
        =0_{U\cap Z}(\mres[s]{U\cap Z})=0,\\
        \mres[\varphi_U(s)]{U-\supp{s}}
        &=\varphi_{U-\supp{s}}(\mres[s]{U-\supp{s}})
        =\varphi_{U-\supp{s}}(0)=0
    \end{align*}
    であるから\(U\cap Z-\supp{s}=(U\cap Z)\cap(U-\supp{s})\)上で
    \[
        \mres[\varphi_U(s)]{U\cap Z-\supp{s}}=0
    \]となる．\(U=(U\cap Z)\cup(U-\supp{s})\)であるから，
    \(F\)の層の条件から\(\varphi_U(s)=0\)である．

    全射であることを示す．
    \(\psi\colon\mres[\scR_Z]{Z}\to\mres[F]{Z}\)を\(
        \mres[\scR]{Z}
    \)加群の層の射とする．
    \(\scR\)加群の層の射\(\varphi\colon\scR_Z\to F\)で\(
        \mres[\varphi]{Z}=\psi
    \)となるものを構成する．
    \(U\)を\(X\)の開集合とし，\(s\in\Gamma(U;\scR_Z)\)とする．
    \(\psi_{U\cap Z}(\mres[s]{U\cap Z})\)と\(0\in\Gamma(U-\supp{s};F)\)は\(U\cap Z-\supp{s}\)上で\[
        \mres[\psi_{U}(s)]{U\cap Z-\supp{s}}=\psi_{U\cap Z-\supp{s}}(\mres[s]{U\cap Z-\supp{s}})=0
    \]となるので，\(U=(U\cap Z)\cup(U-\supp{s})\)上の切断\(t\)で\begin{align*}
        \mres[t]{U\cap Z}&=\psi_{U\cap Z}(\mres[s]{U\cap Z}),\\
        \mres[t]{U-\supp{s}}&=0
    \end{align*}
    となるものがただひとつ存在する．
    この\(t\)に対し\(\varphi_U(s)=t\)と定めれば，
    \(X\)の任意の開集合\(U\)と\(U\cap Z\)上の切断\(s\in\Gamma(U\cap Z; \mres[\scR_Z]{Z})\)に対し
    \[
        \left(\mres[\varphi]{Z}\right)_{U\cap Z}(s)
        =
        \psi_{U\cap Z}(s)
    \]
    となる．
    以上より自然な射\[
        \Hom_{\scR}(\scR_Z,F)
        \to
        \Hom_{\mres[\scR]{Z}}(\mres[\scR_Z]{Z},\mres[F]{Z})
    \]は同型である．右辺は
    \[
        \Hom_{\mres[\scR]{Z}}(\mres[\scR_Z]{Z},\mres[F]{Z})
        \cong
        \Hom_{\mres[\scR]{Z}}(\mres[\scR]{Z},\mres[F]{Z})
        \cong
        \Gamma(Z;F)
    \]
    であるから，
    同型で\(X\)上の切断としたところを各開集合\(U\)上の切断として
    取り替えることで，開集合ごとの同型
    \begin{align*}
        \Hom_{\mres[\scR]{U}}(\mres[\scR_Z]{U},\mres[F]{U})
        &\cong
        \Hom_{\mres[\scR]{Z\cap U}}(\mres[\scR_Z]{Z\cap U},\mres[F]{Z\cap U})\\
        &\cong\Gamma(Z\cap U;F)\\
        &\cong\Gamma_{Z}(U;F)
    \end{align*}
    が得られる．よって
    \[
        \Hom_{\scR}(\scR_Z,F)
        \cong
        \Gamma_{Z}(F)
    \]が成り立つ．
    \subparagraph*{\(Z\)が閉集合のとき}完全列\[
        0\to \scR_{X-Z}\to\scR\to\scR_{Z}\to 0
    \]に対して\(\HOM_{\scR}(\blk,F)\)を適用すると，
    \(X-Z\)に開集合の場合を適用したものと
    命題\ref{PRP239} (iv) の完全列とあわせて次の図式を得る．
    \[\vcenter{\xymatrix@C=36pt@R=26pt{
            0
            \ar[r]^-{}
            \ar@{=}[d]_-{}
            &
            \HOM_{\scR}(\scR_{Z},F)\ar[r]_-{}
            \ar[d]_-{}
            &
            \HOM_{\scR}(\scR,F)\ar[r]_-{}
            \ar@{=}[d]_-{}
            &
            \HOM_{\scR}(\scR_{X-Z},F)
            \ar@{=}[d]_-{}
            \\
            0\ar[r]_-{}
            &
            \Gamma_{Z}(F)\ar[r]_-{}
            &
            F\ar[r]_-{}
            &
            \Gamma_{X-Z}(F)
    }}\]
    したがって，左に0を付け加えた
    \[\vcenter{\xymatrix@C=36pt@R=26pt{
        0
        \ar[r]^-{}
        \ar@{=}[d]_-{}
        &
        0
        \ar[r]^-{}
        \ar@{=}[d]_-{}
        &
        \HOM_{\scR}(\scR_{Z},F)\ar[r]_-{}
        \ar[d]_-{}
        &
        \HOM_{\scR}(\scR,F)\ar[r]_-{}
        \ar@{=}[d]_-{}
        &
        \HOM_{\scR}(\scR_{X-Z},F)
        \ar@{=}[d]_-{}
        \\
        0
        \ar[r]^-{}
        &
        0\ar[r]_-{}
        &
        \Gamma_{Z}(F)\ar[r]_-{}
        &
        F\ar[r]_-{}
        &
        \Gamma_{X-Z}(F)
    }}\]
    に五項補題を適用することで\eqref{eq2316}がしたがう．

    \subparagraph*{\(Z\)が一般の局所閉集合のとき}
    開集合\(U\)と閉集合\(A\)を用いて\(Z=U\cap A\)と表す．
    このとき，開集合と閉集合の場合を用いて
    \begin{align*}
        \HOM_{\scR}\left(\scR_Z,F\right)
        &\cong
        \HOM_{\scR}\left(\scR_{U\cap A},F\right)\\
        &\cong
        \HOM_{\scR}\left(\left(\scR_{U}\right)_A,F\right)\\
        &\cong
        \HOM_{\scR}\left(\scR_{U}\ttens[\scR]\scR_A,F\right)\\
        &\cong
        \HOM_{\scR}\left(
            \scR_{U},\HOM_{\scR}\left(\scR_{A},F\right)
        \right)\\
        &\cong
        \HOM_{\scR}\left(\scR_{U},\Gamma_{A}(F)\right)\\
        &\cong
        \Gamma_{A}\left(\Gamma_{A}(F)\right)\\
        &\cong
        \Gamma_{U\cap A}(F)
    \end{align*}
    となる．
\end{proof}

\begin{RMK}
    命題を用いることで他にも多くの射や同型が得られる．
    例えば，\(f\colon Y\to X\)を連続写像，
    \(\scR\)を\(Z\)を\(X\)の局所閉部分集合とし，
    \(F,F_1,F_2\)を\(\scR\)加群の層，
    \(G,G_1,G_2\)を\(f^{-1}\scR\)加群の層とする．
    （テンソル積を考える場合は\(F_1,G,G_1\)は右加群とする．）
    このとき，以下のような射や同型が存在する．
    \begin{align}
        \left(F_{1}\ttens[\scR]F_{2}\right)_{Z}
        \cong
        F_{1}&\ttens[\scR]\left(F_{2}\right)_{Z}
        \cong
        \left(F_{1}\right)_{Z}\ttens[\scR]F_{2},\quad (\text{in \(\Mod(\zz_X)\)})\label{eq2317}\\
        \HOM_{\scR}\left(\left(F_{1}\right)_{Z},F_{2}\right)
        \cong
        \HOM_{\scR}&\left(F_{1},\Gamma_{Z}(F_{2})\right)
        \cong
        \Gamma_{Z}\HOM_{\scR}\left(F_{1},F_{2}\right)\label{eq2318}\\
        f^{-1}F_{Z}&\cong\left(f^{-1}F\right)_{f^{-1}(Z)},\label{eq2319}\\
        \Gamma_{Z}f_{\ast}G&\cong f_{\ast}\Gamma_{f^{-1}(Z)}(G),\label{eq2320}\\
        f_{\ast}G\ttens[\scR]F&\to f_{\ast}\left(G\ttens[f^{-1}\scR]f^{-1}F\right),\label{eq2321}\\
        f_{\ast}G_{1}\ttens[\scR]f_{\ast}G_{2}&\to f_{\ast}\left(G_{1}\ttens[f^{-1}\scR]G_{2}\right),\label{eq2322}\\
        f_{\ast}\HOM_{f^{-1}\scR}(G_1,G_2)&\to\HOM_{\scR}(f_{\ast}G_1,f_{\ast}G_2),\label{eq2323}\\
        f^{-1}\HOM_{\scR}(F_1,F_2)&\to\HOM_{f^{-1}\scR}(f^{-1}F_1,f^{-1}F_2).\label{eq2324}
    \end{align}
\end{RMK}
\begin{proof}
    \eqref{eq2317}：\(\zz_X\)加群の層として
    \begin{align*}
        \left(F_{1}\ttens[\scR]F_{2}\right)_{Z}
        &\cong
        \zz_{Z}\ttens[\zz_X]\left(F_{1}\ttens[\scR]F_{2}\right)
        \cong
        \left(\zz_{Z}\ttens[\zz_X]F_{1}\right)\ttens[\scR]F_{2}
        \cong
        \left(F_{1}\right)_{Z}\ttens[\scR]F_{2},\\
        \left(F_{1}\ttens[\scR]F_{2}\right)_{Z}
        &\cong
        \left(F_{1}\ttens[\scR]F_{2}\right)\ttens[\zz_X]\zz_{Z}
        \cong
        F_{1}\ttens[\scR]\left(F_{2}\ttens[\zz_X]\zz_{Z}\right)
        \cong
        F_{1}\ttens[\scR]\left(F_{2}\right)_{Z}
    \end{align*}
    である．

    \eqref{eq2318}：\(\scR\)加群として
    \begin{align*}
        \HOM_{\scR}\left((F_1)_{Z},F_2\right)
        &\cong
        \HOM_{\scR}\left(\scR_{Z}\ttens[\scR]F_1,F_2\right)\\
        &\cong
        \HOM_{\scR}\left(F_1,\HOM_{\scR}\left(\scR_{Z},F_2\right)\right)\\
        &\cong
        \HOM_{\scR}\left(F_{1},\Gamma_{Z}(F_{2})\right),\\
        \HOM_{\scR}\left((F_1)_{Z},F_2\right)
        &\cong
        \HOM_{\scR}\left(\scR_{Z}\ttens[\scR]F_1,F_2\right)\\
        &\cong
        \HOM_{\scR}\left(\scR_{Z}\HOM_{\scR}\left(F_1,F_2\right)\right)\\
        &\underset{\eqref{eq2316}}{\cong}
        \Gamma_{Z}\HOM_{\scR}\left(F_1,F_2\right)
    \end{align*}
    である．
    この変形でテンソル積を用いている部分があるが，
    \(F_1\)は左\(\scR\)加群としている．

    \eqref{eq2319}：
    \(f^{-1}F_Z\)が\eqref{eq2313}をみたすことを示す．
    \(Y\)の点\(y\)に対して，\begin{align*}
        \left(f^{-1}(F_Z)\right)_{y}
        \cong (F_Z)_{f(y)}
        \cong \begin{cases}
            F_{f(y)}& f(y)\in Z\quad\text{すなわち}\quad y\in f^{-1}(Z)\\
            0& f(y)\in X-Z\quad\text{すなわち}\quad  y\in Y-f^{-1}(Z)
        \end{cases}
    \end{align*}
    である．よって\(\mres[F_Z]{f^{-1}(Z)}\)は\(
        \mres[f^{-1}F]{f^{-1}(Z)}
    \)と同型であり\(\mres[F_Z]{Y-f^{-1}(Z)}\)は\(0\)である．
    したがって，命題\ref{PRP236} (i) より\eqref{eq2319}が成り立つ．

    \eqref{eq2320}：
    任意の\(\scR\)加群の層\(F\)に対して\begin{align*}
        \Hom_{\scR}\left(F,\Gamma_{Z}(f_{\ast}G)\right)
        &\underset{\eqref{eq2318}}{\cong}
        \Hom_{\scR}\left(F_{Z},f_{\ast}G\right)\\
        &\ \ \ \cong\ \ \ 
        \Hom_{f^{-1}\scR}\left(f^{-1}F_{Z},G\right)\\
        &\underset{\eqref{eq2319}}{\cong}
        \Hom_{f^{-1}\scR}\left((f^{-1}F)_{f^{-1}(Z)},G\right)\\
        &\underset{\eqref{eq2318}}{\cong}
        \Hom_{f^{-1}\scR}\left(f^{-1}F,\Gamma_{f^{-1}(Z)}(G)\right)\\
        &\ \ \ \cong\ \ \ 
        \Hom_{\scR}\left(F,f_{\ast}\Gamma_{f^{-1}(Z)}(G)\right)
    \end{align*}
    が成り立つ．したがって米田の補題から\eqref{eq2320}がしたがう．

    \eqref{eq2321}：次の射の列を考える．
    \begin{align*}
        \Hom(G\tens[]f^{-1}F,G\tens[]f^{-1}F)
        &\underset{(\eta_{G}\tens[]f^{-1}F)^{\ast}}{\longrightarrow}
        \Hom(f^{-1}f_{\ast}G\tens[]f^{-1}F,G\tens[]f^{-1}F)\\
        &\cong
        \Hom(f^{-1}\left(f_{\ast}G\tens[]F\right),G\tens[]f^{-1}F)\\
        &\cong
        \Hom\left(f_{\ast}G\tens[]F,f_{\ast}\left(G\tens[]f^{-1}F\right)\right).
    \end{align*}
    ただし，最初の\((\eta_{G}\tens[]f^{-1}F)^{\ast}\)は
    随伴の余単位\(
        \eta_G\colon f^{-1}f_{\ast}G\to G
    \)に\(f^{-1}F\)の恒等射を掛けたものの引き戻しである．
    以上の射の合成による\(G\tens[]f^{-1}F\)の恒等射の像が\[
        f_{\ast}G\tens[]F\to f_{\ast}\left(G\tens[]f^{-1}F\right)
    \]を定める．

    \eqref{eq2322}：次の射の列を考える．
    \begin{align*}
        \Hom_{f^{-1}\scR}\left(G_1\ttens[f^{-1}\scR]G_2,G_1\ttens[f^{-1}\scR]G_2\right)
        &\to
        \Hom_{f^{-1}\scR}\left(f^{-1}f_{\ast}G_1\ttens[f^{-1}\scR]f^{-1}f_{\ast}G_2,G_1\ttens[f^{-1}\scR]G_2\right)\\
        &\cong
        \Hom_{f^{-1}\scR}\left(f^{-1}\left(f_{\ast}G_1\ttens[\scR]f_{\ast}G_2\right),G_1\ttens[f^{-1}\scR]G_2\right)\\
        &\cong
        \Hom_{f^{-1}\scR}\left(f_{\ast}G_1\ttens[\scR]f_{\ast}G_2,f_{\ast}\left(G_1\ttens[f^{-1}\scR]G_2\right)\right)
    \end{align*}
    最初の射は随伴の余単位のテンソル積\[
        \eta_{G_1}\tens[]\eta_{G_2}\colon 
        G_1\ttens[f^{-1}\scR]G_2
        \to
        f^{-1}f_{\ast}G_1\ttens[f^{-1}\scR]f^{-1}f_{\ast}G_2
    \]による引き戻しの定める射である．
    以上の射の合成による\(G_1\ttens[f^{-1}\scR]G_2\)の恒等射の像が
    \[
        f_{\ast}G_{1}\ttens[\scR]f_{\ast}G_{2}
        \to 
        f_{\ast}\left(G_{1}\ttens[f^{-1}\scR]G_{2}\right)
    \]を定める．

    \eqref{eq2323}：
    \(Y\)の開集合\(V\)に対し，\[
        \Hom_{\mres[(f^{-1}\scR)]{V}}\left(\mres[G_1]{V},\mres[G_2]{V}\right)\ttens[f^{-1}\scR(V)]G_1(V)\to G_2(V)
    \]が\[
        \left(
            \mres[\varphi]{V}\colon \mres[G_1]{V}\to\mres[G_2]{V}
        \right)\tens[]s
        \mapsto
        \left(\mres[\varphi]{V}\right)_{V}(s)=\varphi_V(s)
    \]により定まる．
    したがって，\(f^{-1}\scR\)加群の層の射\[
        \alpha\colon\HOM_{f^{-1}\scR}\left(G_1,G_2\right)\ttens[f^{-1}\scR]G_1\to G_2
    \]が存在する．
    次の射の列を考える．
    \begin{align*}
        &\Hom_{f^{-1}\scR}\left(
            \HOM_{f^{-1}\scR}(G_1,G_2)\ttens[f^{-1}\scR]G_1, 
            G_2
        \right)\\
        \to&
        \Hom_{\scR}\left(
            f_{\ast}\left(
                \HOM_{f^{-1}\scR}(G_1,G_2)\ttens[f^{-1}\scR]G_1
            \right), 
            f_{\ast}G_2
        \right)\\
        \to&
        \Hom_{\scR}\left(
            f_{\ast}\HOM_{f^{-1}\scR}(G_1,G_2)\ttens[\scR]f_{\ast}G_1, 
            f_{\ast}G_2
        \right)\\
        \cong&
        \Hom_{\scR}\left(
            f_{\ast}\HOM_{f^{-1}\scR}(G_1,G_2), 
            \HOM_{\scR}(f_{\ast}G_1,f_{\ast}G_2)
        \right).
    \end{align*}
    最初の射は順像関手の定める射である．
    2番目の射は\(\HOM_{f^{-1}\scR}(G_1,G_2)\)と\(G_1\)に
    \eqref{eq2322}を適用した\[
        f_{\ast}
        \HOM_{f^{-1}\scR}(G_1,G_2)\ttens[\scR]f_{\ast}G_1
        \to
        f_{\ast}\left(
                \HOM_{f^{-1}\scR}(G_1,G_2)\ttens[f^{-1}\scR]G_1
            \right)
    \]による引き戻しの定める射である．
    以上の射の列の合成による\(\alpha\)の像が\[
        f_{\ast}\HOM_{f^{-1}\scR}(G_1,G_2)\to 
        \HOM_{\scR}(f_{\ast}G_1,f_{\ast}G_2)
    \]をひきおこす．

    \eqref{eq2324}：次の射の列を考える．
    \begin{align*}
        &\Hom_{\scR}\left(
            \HOM_{\scR}(F_1,F_2)\ttens[\scR]F_1,F_2
        \right)\\
        \to&
        \Hom_{f^{-1}\scR}\left(
            f^{-1}\left(
                \HOM_{\scR}(F_1,F_2)\ttens[\scR]F_1
            \right),f^{-1}F_2
        \right)\\
        \cong&
        \Hom_{f^{-1}\scR}\left(
            f^{-1}\HOM_{\scR}(F_1,F_2)
            \ttens[f^{-1}\scR]f^{-1}F_1
            ,f^{-1}F_2
        \right)\\
        \cong&
        \Hom_{f^{-1}\scR}\left(
            f^{-1}\HOM_{\scR}(F_1,F_2)
            ,\HOM_{f^{-1}\scR}(f^{-1}F_1
            ,f^{-1}F_2)
        \right).
    \end{align*}
    \eqref{eq2323}の証明で構成した\(\alpha\)と
    同様にして\(\scR\)加群の層の射\[
        \beta\colon \HOM_{\scR}(F_1,F_2)\ttens[\scR]F_1\to F_2
    \]が定まる．
    射の列の合成による\(\beta\)の像が\[
        f^{-1}\HOM_{\scR}(F_1,F_2)
        \to
        \HOM_{f^{-1}\scR}(f^{-1}F_1,f^{-1}F_2)
    \]をひきおこす．
\end{proof}






%\section*{aa}
%\(\overunderset{a}{a}{=}\)
%===============================================
% 参考文献スペース
%===============================================
\begin{thebibliography}{20} 
    \bibitem[BouTG1]{BouTG1} ブルバキ, 位相1, 東京図書, 1968.
    \bibitem[BouTVS]{BouTVS} ブルバキ, 位相線形空間1, 東京図書, 1968.
    \bibitem[B+84]{B+84} Borel, 
    \textit{Intersection Cohomology}, 
    Progress in Mathematics, 50, Birkh\"auser, 1984.
\bibitem[G58]{G58} Grauert, 
    \textit{On Levi's problem and the embedding of real analytic manifolds}, 
    Ann. Math. 68, 460--472 (1958).
\bibitem[GP74]{GP74} Victor Guillemin, Alan Pollack, 
    \textit{Differential Topology}, 
    Prentice-Hall, 1974.
    \bibitem[HS23]{HS23} Andreas Hohl, Pierre Schapira, 
    \textit{Unusual Functorialities for weakly constructible sheaves}, 
    2023.
    \bibitem[KS90]{KS90} Masaki Kashiwara, Pierre Schapira, 
    \textit{Sheaves on Manifolds}, 
    Grundlehren der Mathematischen Wissenschaften, 292, Springer, 1990.
\bibitem[KS06]{KS06} Masaki Kashiwara, Pierre Schapira, 
    \textit{Categories and Sheaves}, 
    Grundlehren der Mathematischen Wissenschaften, 332, Springer, 2006.
    \bibitem[Le13]{Le13} John M. Lee, 
    \textit{Introduction to Smooth Manifolds}, Second Edition,
    Graduate Texts in Mathematics, \textbf{218}, Springer, 2013.
    \bibitem[Mo76]{Mo76} 森本光生, 佐藤超函数入門, 共立出版, 1976. 
\bibitem[R55]{R55} de Rham, 
    \textit{Vari\'et\'es diff\'erentiables}, 
    Hermann, Paris, 1955.
\bibitem[Sa59]{Sa59} Mikio Sato, 
    \textit{Theory of Hyperfunctions}, 
    1959--60.
\bibitem[S66]{S66} Schwartz, 
    \textit{Th\'eorie de distributions}, 
    Hermann, Paris, 1966.
\bibitem[Sh16]{Sh16} 志甫淳, 層とホモロジー代数, 共立出版, 2016.
\bibitem[SP]{SP} The Stacks Project.
\bibitem[Sp65]{Sp65} Michael Spivak, 
\textit{Calculus on Manifolds}, 
Benjamin, 1965.
\bibitem[Ike21]{Ike21} 池祐一, 超局所層理論概説, 2021.
\bibitem[Tak17]{Tak17} 竹内潔, \(\D\)加群, 共立出版, 2017.
\bibitem[Ue]{Ue} 植田一石, ホモロジー的ミラー対称性, \url{https://www.ms.u-tokyo.ac.jp/~kazushi/course/hms.pdf} 2024/02/04 最終閲覧.

\end{thebibliography}

%===============================================


\end{document}
